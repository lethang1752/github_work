
set long 999
set line 2000
set pages 999
select dbms_metadata.get_ddl('TABLESPACE','TEMP','') from dual;

select dbms_metadata.get_ddl('USER','ARX') from dual;

select username,tablespace_name,max_bytes from dba_ts_quotas;
=====================================
Add Log File

ALTER DATABASE ADD LOGFILE THREAD 1 GROUP 8 '+DATA' SIZE 2048M;
ALTER DATABASE ADD LOGFILE THREAD 1 GROUP 9 '+DATA' SIZE 2048M;
ALTER DATABASE ADD LOGFILE THREAD 1 GROUP 10 '+DATA' SIZE 2048M;
ALTER DATABASE ADD LOGFILE THREAD 1 GROUP 7 '+DATA' SIZE 500m;

ALTER DATABASE ADD LOGFILE MEMBER '+DATA' TO GROUP 4;
ALTER DATABASE ADD LOGFILE MEMBER '+DATA' TO GROUP 5;
ALTER DATABASE ADD LOGFILE MEMBER '+DATA' TO GROUP 6;
ALTER DATABASE ADD LOGFILE MEMBER '+DATA' TO GROUP 7;

ALTER DATABASE ADD STANDBY LOGFILE THREAD 1 GROUP 14 SIZE 2048M;
ALTER DATABASE ADD STANDBY LOGFILE THREAD 1 GROUP 15 SIZE 2048M;
ALTER DATABASE ADD STANDBY LOGFILE THREAD 1 GROUP 16 SIZE 2048M;
ALTER DATABASE ADD STANDBY LOGFILE THREAD 1 GROUP 17 SIZE 2048M;
ALTER DATABASE ADD STANDBY LOGFILE THREAD 1 GROUP 18 SIZE 2048M;

ALTER SYSTEM SWITCH LOGFILE; 
(twice for both node)

ALTER SYSTEM CHECKPOINT;

ALTER DATABASE DROP LOGFILE GROUP 11, GROUP 12, GROUP 13;

ALTER DATABASE DROP STANDBY LOGFILE GROUP 14, GROUP 15, GROUP 16, GROUP 17; 

=====================================
Create Standard Tablespaces

CREATE TABLESPACE UNDO01 DATAFILE '+DATA'
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE TOOLS DATAFILE '+DATA'
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE TEMP DATAFILE '+DATA'
Extent management local uniform size 500M;
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE USERS DATAFILE '+DATA'
Extent management local uniform size 10G;
SEGMENT SPACE MANAGEMENT AUTO;
=====================================
Create Application Specific Tablespaces

CREATE TABLESPACE DATA DATAFILE '+DATA' SIZE 10G
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE TBFES DATAFILE '+DATA' SIZE 100M
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE UNDOTBS DATAFILE '+DATA' SIZE 100M
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE TS_TRANS DATAFILE '+DATA' SIZE 100M
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

CREATE TABLESPACE TS_TX DATAFILE '+DATA' SIZE 100M
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
SEGMENT SPACE MANAGEMENT AUTO;

=====================================
Create Roles For Database

CREATE ROLE SCHEMA_OWNER;

GRANT CREATE SESSION TO SCHEMA_OWNER;
GRANT CREATE TABLE TO SCHEMA_OWNER;
GRANT CREATE MATERIALIZED VIEW TO SCHEMA_OWNER;
GRANT CREATE PROCEDURE TO SCHEMA_OWNER;
GRANT CREATE SYNONYM TO SCHEMA_OWNER;
GRANT CREATE VIEW TO SCHEMA_OWNER;
GRANT CREATE JOB TO SCHEMA_OWNER;
GRANT CREATE TRIGGER TO SCHEMA_OWNER;
GRANT CREATE SEQUENCE TO SCHEMA_OWNER;
GRANT CREATE TYPE TO SCHEMA_OWNER;
GRANT select on pending_trans$ TO SCHEMA_OWNER;
GRANT select on dba_2pc_pending TO SCHEMA_OWNER;
GRANT select on dba_pending_transactions TO SCHEMA_OWNER;
GRANT execute on dbms_xa TO SCHEMA_OWNER;

CREATE ROLE SCHEMA_VIEWER;

GRANT CREATE SESSION TO SCHEMA_VIEWER;
GRANT CREATE SYNONYM TO SCHEMA_VIEWER;

=====================================
Create Users

CREATE USER ARX IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER IDCAML192 IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER OFBDB IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER SIGMA IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER STUDIO IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER IDC_LMS IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER IDC_CLMS IDENTIFIED BY welcome1
DEFAULT TABLESPACE DATA
QUOTA UNLIMITED ON DATA;

CREATE USER IDCCORE1923 IDENTIFIED BY welcome1
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON TEMP;
QUOTA UNLIMITED ON UNDOTBS
QUOTA UNLIMITED ON USERS
QUOTA UNLIMITED ON TBFES
QUOTA UNLIMITED ON TS_TRANS
QUOTA UNLIMITED ON TS_TX;

CREATE USER IDCTF192 IDENTIFIED BY welcome1
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON DATA
QUOTA UNLIMITED ON UNDOTBS
QUOTA UNLIMITED ON USERS
QUOTA UNLIMITED ON TBFES
QUOTA UNLIMITED ON TS_TRANS
QUOTA UNLIMITED ON TS_TX;

CREATE USER TF IDENTIFIED BY welcome1
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON DATA
QUOTA UNLIMITED ON USERS
QUOTA UNLIMITED ON SYSTEM;

CREATE USER TRSY IDENTIFIED BY welcome1
DEFAULT TABLESPACE USERS
QUOTA UNLIMITED ON DATA;


srvctl add database -d CMIS3DCN -oraclehome $ORACLE_HOME -dbname CMIS3 -diskgroup DATA -role physical_standby -spfile '+DATA/MFTBUATDR/PARAMETERFILE/spfile' -pwfile '$ORACLE_HOME/dbs/orapwCMIS3'



List of Permanent Datafiles
===========================
File Size(MB) Tablespace           RB segs Datafile Name
---- -------- -------------------- ------- ------------------------
1    950      SYSTEM               YES     +DATA/MFTBDATA/DATAFILE/system.257.1131467687
2    100      TOOLS                NO      +DATA/MFTBDATA/DATAFILE/tools.274.1131485633
3    700      SYSAUX               NO      +DATA/MFTBDATA/DATAFILE/sysaux.258.1131467721
4    505      UNDOTBS1             YES     +DATA/MFTBDATA/DATAFILE/undotbs1.259.1131467737
5    100      UNDO01               NO      +DATA/MFTBDATA/DATAFILE/undo01.275.1131485633
7    5        USERS                NO      +DATA/MFTBDATA/DATAFILE/users.260.1131467737
8    10240    DATA                 NO      +DATA/MFTBDATA/DATAFILE/data.273.1131485671
9    100      TBFES                NO      +DATA/MFTBDATA/DATAFILE/tbfes.298.1131485723
10   100      UNDOTBS              NO      +DATA/MFTBDATA/DATAFILE/undotbs.299.1131485725
11   100      TS_TRANS             NO      +DATA/MFTBDATA/DATAFILE/ts_trans.300.1131485725
12   100      TS_TX                NO      +DATA/MFTBDATA/DATAFILE/ts_tx.301.1131485725

List of Temporary Files
=======================
File Size(MB) Tablespace           Maxsize(MB) Tempfile Name
---- -------- -------------------- ----------- --------------------
1    36       TEMP                 32767       +DATA/MFTBDATA/TEMPFILE/temp.269.1131467821

=============================

1. 4,3,1
2. 4,2,6
3. 3,4

4. 1,3

5. 4,1
6. 2,3
7. 4
8. 2,4,3

9. 4,2

10. 4,5
11. 4,2
12. 1,3,2
13. 2,5,4
14. 6,5,3
15. 3,6,2

16. 1,5

17. 2,3
18. 4,3
19. 3,5
20. 5,1,2
21. 7,6,5,4
22. 5,4,6

23. 2

24. 3
25. 2,6,3
26. 1,3

27. 1,5

28. 1,2
29. 2,5,3
30. 2,1,3
31. 1,6,2
32. 3,1,4
33. 3,6
34. 2,5


